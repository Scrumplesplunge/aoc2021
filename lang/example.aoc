// $ build/compiler example.aoc 2>/dev/null > example.s
// $ as example.s -o example.o
// $ ld example.o -o example
// $ ./example

function fib(out, n) {
  if n < 2 {
    *out = n;
  } else {
    fib(out, n - 1);
    var temp[1];
    fib(temp, n - 2);
    *out = *out + temp[0];
  }
}

var x;

function main() {
  var result[1];
  x = fib(result, 10);
  return result[0];
}
